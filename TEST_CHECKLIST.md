# 🧪 功能测试清单

## 测试环境
- 应用：YesnoteLite
- 版本：0.0.1
- 功能：笔记置顶和收藏

---

## 📝 测试前准备

### 1. 启动应用
```bash
cd /Users/fusong/ClaudeCode/notelite
npm run dev
```

### 2. 确认应用正常启动
- [ ] 应用窗口已打开
- [ ] 左侧文件树可见
- [ ] 可以看到现有的笔记

### 3. 打开开发者工具（可选，用于调试）
- Mac: `Cmd + Option + I`
- Windows: `Ctrl + Shift + I`

---

## ✅ 测试用例

### 测试1：置顶单个笔记

**步骤：**
1. [ ] 在文件树中找到任意一个笔记文件
2. [ ] 右键点击该笔记
3. [ ] 确认菜单中有 "📍 Pin Note" 选项
4. [ ] 点击 "📍 Pin Note"

**预期结果：**
- [ ] 笔记名称后面出现 📌 标签
- [ ] 笔记移动到当前文件夹的顶部
- [ ] 控制台没有错误信息

**实际结果：** _______________

---

### 测试2：验证置顶状态

**步骤：**
1. [ ] 右键点击刚才置顶的笔记（带有 📌 标签）
2. [ ] 查看菜单选项

**预期结果：**
- [ ] 菜单显示 "📌 Unpin Note"（而不是 "Pin Note"）
- [ ] 其他菜单项正常显示

**实际结果：** _______________

---

### 测试3：取消置顶

**步骤：**
1. [ ] 右键点击已置顶的笔记
2. [ ] 点击 "📌 Unpin Note"

**预期结果：**
- [ ] 📌 标签消失
- [ ] 笔记回到原来的位置（不在顶部）
- [ ] 控制台没有错误信息

**实际结果：** _______________

---

### 测试4：添加星标收藏

**步骤：**
1. [ ] 右键点击任意笔记
2. [ ] 确认菜单中有 "☆ Add Star" 选项
3. [ ] 点击 "☆ Add Star"

**预期结果：**
- [ ] 笔记名称后面出现 ⭐ 图标
- [ ] 笔记位置不变（收藏不影响排序）
- [ ] 控制台没有错误信息

**实际结果：** _______________

---

### 测试5：验证收藏状态

**步骤：**
1. [ ] 右键点击刚才收藏的笔记（带有 ⭐ 图标）
2. [ ] 查看菜单选项

**预期结果：**
- [ ] 菜单显示 "⭐ Remove Star"（而不是 "Add Star"）

**实际结果：** _______________

---

### 测试6：取消收藏

**步骤：**
1. [ ] 右键点击已收藏的笔记
2. [ ] 点击 "⭐ Remove Star"

**预期结果：**
- [ ] ⭐ 图标消失
- [ ] 控制台没有错误信息

**实际结果：** _______________

---

### 测试7：同时置顶和收藏

**步骤：**
1. [ ] 选择一个笔记
2. [ ] 右键点击，选择 "📍 Pin Note"
3. [ ] 再次右键点击，选择 "☆ Add Star"

**预期结果：**
- [ ] 笔记同时显示 ⭐ 和 📌
- [ ] 笔记在文件夹顶部
- [ ] 两个功能互不影响

**实际结果：** _______________

---

### 测试8：置顶多个笔记

**步骤：**
1. [ ] 置顶第一个笔记（笔记A）
2. [ ] 置顶第二个笔记（笔记B）
3. [ ] 置顶第三个笔记（笔记C）

**预期结果：**
- [ ] 三个笔记都在文件夹顶部
- [ ] 都显示 📌 标签
- [ ] 按照置顶的顺序排列（A, B, C）

**实际结果：** _______________

---

### 测试9：持久化存储（重启测试）

**步骤：**
1. [ ] 置顶至少一个笔记
2. [ ] 收藏至少一个笔记
3. [ ] 关闭应用（Cmd+Q 或关闭窗口）
4. [ ] 重新运行 `npm run dev`
5. [ ] 等待应用启动
6. [ ] 检查之前置顶和收藏的笔记

**预期结果：**
- [ ] 置顶的笔记仍然在顶部，带有 📌 标签
- [ ] 收藏的笔记仍然显示 ⭐ 图标
- [ ] 所有状态都被保留

**实际结果：** _______________

---

### 测试10：删除置顶的笔记

**步骤：**
1. [ ] 置顶一个笔记
2. [ ] 右键点击该笔记
3. [ ] 选择 "❌ Remove"
4. [ ] 确认删除

**预期结果：**
- [ ] 笔记被删除
- [ ] 文件树更新，不再显示该笔记
- [ ] 控制台没有错误
- [ ] 该笔记从置顶列表中自动移除

**验证方法：**
在控制台输入：
```javascript
console.log(ttsStore.favorites.pinned)
```
应该看不到已删除笔记的路径。

**实际结果：** _______________

---

### 测试11：嵌套文件夹中的置顶

**步骤：**
1. [ ] 展开一个文件夹
2. [ ] 在子文件夹中找到一个笔记
3. [ ] 置顶该笔记

**预期结果：**
- [ ] 笔记移动到子文件夹的顶部
- [ ] 不影响父文件夹或其他文件夹的排序
- [ ] 📌 标签正常显示

**实际结果：** _______________

---

### 测试12：文件夹菜单不受影响

**步骤：**
1. [ ] 右键点击一个文件夹（不是笔记）
2. [ ] 查看菜单选项

**预期结果：**
- [ ] 菜单只显示：📄 File, 📂 Folder, ❌ Remove
- [ ] 没有显示 Pin 或 Star 选项（因为文件夹不支持这些功能）

**实际结果：** _______________

---

## 🐛 错误测试

### 错误测试1：快速连续点击

**步骤：**
1. [ ] 快速连续右键点击同一个笔记
2. [ ] 快速点击 "Pin Note" 多次

**预期结果：**
- [ ] 不会出现错误
- [ ] 状态正确（置顶或未置顶）
- [ ] 界面不会卡顿

**实际结果：** _______________

---

### 错误测试2：空文件夹

**步骤：**
1. [ ] 创建一个空文件夹
2. [ ] 在空文件夹中创建一个笔记
3. [ ] 置顶该笔记

**预期结果：**
- [ ] 功能正常工作
- [ ] 没有错误

**实际结果：** _______________

---

## 📊 测试结果汇总

### 通过的测试：
- [ ] 测试1: 置顶单个笔记
- [ ] 测试2: 验证置顶状态
- [ ] 测试3: 取消置顶
- [ ] 测试4: 添加星标收藏
- [ ] 测试5: 验证收藏状态
- [ ] 测试6: 取消收藏
- [ ] 测试7: 同时置顶和收藏
- [ ] 测试8: 置顶多个笔记
- [ ] 测试9: 持久化存储
- [ ] 测试10: 删除置顶的笔记
- [ ] 测试11: 嵌套文件夹中的置顶
- [ ] 测试12: 文件夹菜单不受影响
- [ ] 错误测试1: 快速连续点击
- [ ] 错误测试2: 空文件夹

### 失败的测试：
（记录失败的测试和错误信息）

---

## 🔍 调试命令

如果遇到问题，在浏览器控制台中运行以下命令：

### 查看当前置顶列表：
```javascript
console.log('Pinned notes:', ttsStore.favorites.pinned)
```

### 查看当前收藏列表：
```javascript
console.log('Starred notes:', ttsStore.favorites.starred)
```

### 查看当前文件树数据：
```javascript
console.log('Tree data:', ttsStore.treeMenu.data)
```

### 手动刷新文件树：
```javascript
ttsStore.refreshTreeData()
```

### 手动置顶一个笔记（需要知道路径）：
```javascript
ttsStore.togglePin('/path/to/your/note.json')
```

---

## 📝 测试笔记

**测试日期：** _______________

**测试人员：** _______________

**应用版本：** 0.0.1

**操作系统：** _______________

**其他备注：**

_______________________________________________

_______________________________________________

_______________________________________________

---

## ✅ 测试完成确认

- [ ] 所有基础功能测试通过
- [ ] 持久化存储正常工作
- [ ] 没有发现严重错误
- [ ] 界面显示正常
- [ ] 性能表现良好

**测试结论：** _______________

**签名：** _______________
